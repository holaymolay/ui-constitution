{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ui-constitution.local/schemas/color.schema.json",
  "title": "Color Role Constraints",
  "type": "object",
  "description": "Semantic color roles and accessibility floors.",
  "additionalProperties": false,
  "properties": {
    "color_roles": {
      "type": "array",
      "description": "Enumerated semantic color roles.",
      "const": [
        "primary",
        "secondary",
        "background",
        "surface",
        "text",
        "text-muted",
        "border",
        "success",
        "warning",
        "danger",
        "info"
      ],
      "items": { "type": "string" }
    },
    "allow_arbitrary_colors": {
      "type": "boolean",
      "description": "Arbitrary colors are prohibited.",
      "const": false
    },
    "contrast_floor": {
      "type": "number",
      "description": "Minimum contrast ratio for any defined pair.",
      "const": 4.5
    },
    "contrast_pairs": {
      "type": "array",
      "description": "Role pairs that must meet or exceed the contrast floor.",
      "minItems": 1,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "foreground_role": {
            "type": "string",
            "enum": [
              "primary",
              "secondary",
              "background",
              "surface",
              "text",
              "text-muted",
              "border",
              "success",
              "warning",
              "danger",
              "info"
            ]
          },
          "background_role": {
            "type": "string",
            "enum": [
              "primary",
              "secondary",
              "background",
              "surface",
              "text",
              "text-muted",
              "border",
              "success",
              "warning",
              "danger",
              "info"
            ]
          },
          "min_ratio": {
            "type": "number",
            "minimum": 4.5
          }
        },
        "required": ["foreground_role", "background_role", "min_ratio"]
      }
    }
  },
  "required": [
    "color_roles",
    "allow_arbitrary_colors",
    "contrast_floor",
    "contrast_pairs"
  ]
}
